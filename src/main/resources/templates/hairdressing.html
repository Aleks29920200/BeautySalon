<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div th:replace="~{/fragments/head}"></div>
<body>
<div th:replace="~{/fragments/navbar}"></div>
<div class="card" th:each="hairdressing : ${allServices}"
     th:object="${hairdressing}">
    <img th:object="${hairdressing.img}" class="card-img" th:src="'data:image/jpeg;base64,' + ${imgUtil.getImgData(hairdressing.img.fileData)}">
    <div class=" card-img-overlay">
        <div class="text-box">
            <div class="container">
                <div class="row">
                    <div
                         th:if="${hairdressing.category==T(com.example.beautySalon.domain.entity.ServiceCategory).HAIRDRESSING}"
                         class="rounded-pill">
                        <h2>Name: <strong th:text="*{name}"></strong></h2>
                        <h4>Price: <strong th:text="*{price}"></strong></h4>
                        <form method="post" sec:authorize="hasRole('ROLE_USER')"
                              th:action="@{'/user/add-transaction/cosmeticService/' + ${hairdressing.id}}">
                            <button class="btn btn-dark align-bottom" type="submit">Purchase</button>
                        </form>
                        <a type="button" class="btn-dark"  th:href="@{'/user/manicure/' + ${hairdressing.id}}">
                            Info
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
        </div>
<div class="text-center" sec:authorize="isAnonymous()">
    <a type="submit" class="btn btn-primary" th:href="@{/index}">Back</a>
</div>
<div class="text-center" sec:authorize="hasRole('ROLE_USER')">
    <a type="submit" class="btn btn-primary" th:href="@{/home}">Back</a>
</div>
        <footer th:replace="~{fragments/footer}"></footer>
</body>
</html>